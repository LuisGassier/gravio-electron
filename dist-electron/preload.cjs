"use strict";const e=require("electron");e.contextBridge.exposeInMainWorld("electron",{getVersion:()=>e.ipcRenderer.invoke("app:getVersion"),getPlatform:()=>e.ipcRenderer.invoke("app:getPlatform"),serialPort:{list:()=>e.ipcRenderer.invoke("serial:list"),open:(r,n)=>e.ipcRenderer.invoke("serial:open",r,n),close:()=>e.ipcRenderer.invoke("serial:close"),read:()=>e.ipcRenderer.invoke("serial:read"),getPortInfo:()=>e.ipcRenderer.invoke("serial:getPortInfo"),onData:r=>{const n=(i,t)=>r(t);return e.ipcRenderer.on("serial:data",n),()=>e.ipcRenderer.removeListener("serial:data",n)}},printer:{list:()=>e.ipcRenderer.invoke("printer:list"),print:r=>e.ipcRenderer.invoke("printer:print",r)},db:{query:(r,n)=>e.ipcRenderer.invoke("db:query",r,n),exec:r=>e.ipcRenderer.invoke("db:exec",r),transaction:r=>e.ipcRenderer.invoke("db:transaction",r),get:(r,n)=>e.ipcRenderer.invoke("db:get",r,n),run:(r,n)=>e.ipcRenderer.invoke("db:run",r,n),all:(r,n)=>e.ipcRenderer.invoke("db:all",r,n)},sync:{start:()=>e.ipcRenderer.invoke("sync:start"),stop:()=>e.ipcRenderer.invoke("sync:stop"),getStatus:()=>e.ipcRenderer.invoke("sync:getStatus"),onStatusChange:r=>{e.ipcRenderer.on("sync:statusChange",(n,i)=>r(i))}},storage:{get:r=>e.ipcRenderer.invoke("storage:get",r),set:(r,n)=>e.ipcRenderer.invoke("storage:set",r,n),delete:r=>e.ipcRenderer.invoke("storage:delete",r),clear:()=>e.ipcRenderer.invoke("storage:clear")},updater:{check:()=>e.ipcRenderer.invoke("updater:check"),download:()=>e.ipcRenderer.invoke("updater:download"),installAndRestart:()=>e.ipcRenderer.invoke("updater:installAndRestart"),openExternal:r=>e.ipcRenderer.invoke("updater:openExternal",r),onUpdateAvailable:r=>{const n=(i,t)=>r(t);return e.ipcRenderer.on("update-available",n),()=>e.ipcRenderer.removeListener("update-available",n)},onDownloadProgress:r=>{const n=(i,t)=>r(t);return e.ipcRenderer.on("update-download-progress",n),()=>e.ipcRenderer.removeListener("update-download-progress",n)},onUpdateDownloaded:r=>{const n=(i,t)=>r(t);return e.ipcRenderer.on("update-downloaded",n),()=>e.ipcRenderer.removeListener("update-downloaded",n)}}});
